Molecular feature and sample information was parsed from the file '20250310_all_CS_quant_full.csv' in the format 'mzmine3' with 'positive' ion mode polarity.
MS/MS fragmentation information was parsed from the file '20250310_all_CS.mgf' in the format 'mgf'. MS/MS fragments +- 10 mass units around precursor m/z were removed.
MS/MS fragments with an intensity less than '0.01' relative to the base peak were removed.
Phenotype/bioactivity information was parsed from the file 'bioactivity_all_cs_perc_correct.csv' in the format 'quantitative-percentage'.
Group metadata information was parsed from the file 'metadataFERMO_all_cs.csv' in the format 'fermo'.
MS2Query results were parsed from the file '20250310_all_CS_ms2query.csv'. Only results with a score above a user-specified value of '0.7' were retained.
antiSMASH results were parsed from the directory 'NZ_CP070373.1'. KnownClusterBlast matches were only retained if they were above a user-specified similarity cutoff of '0.7'.
For each sample, overlapping molecular features were annotated for ion adducts using a cutoff mass deviation value of '10.0' ppm.
For each molecular feature, neutral losses were calculated between the precursor m/z and each MS/MS fragment peak m/z and matched against a library of annotated neutral losses, using a cutoff mass deviation value of '10.0' ppm.
For each molecular feature, MS/MS fragments were matched against a library of annotated MS/MS fragments, using a cutoff mass deviation value of '10.0' ppm.
MS/MS spectra of all molecular features with more than '5' fragment ions were compared pairwise and scored using the 'modified cosine' algorithm, with a fragment tolerance of '0.1'. From the resulting similarity matrix, a network was created, with features represented as nodes and the similarity value as edges. Edges were pruned if their score was below a similarity cutoff of '0.8'. Also, edges were pruned so that only the '5' highest scoring edges remained.
MS/MS spectra of all molecular features with more than '5' fragment ions were compared pairwise and scored using the 'MS2Deepscore' algorithm. From the resulting similarity matrix, a network was created, with features represented as nodes and the similarity value as edges. Edges were pruned if their score was below a similarity cutoff of '0.8'. Also, edges were pruned so that only the '10' highest scoring edges remained.
Molecular features only detected in sample-blanks were considered blank-associated, as were features that had a quotient of less than '10' when their 'mean' 'area' between samples and sample blanks was compared.
Samples were grouped according to the provided group metadata information. For each molecular feature observed in more than one group, the quotient between the 'mean' 'area' of groups was calculated pairwise.
For each molecular feature detected in more than two phenotype-associated samples, the 'mean' 'area' was correlated with the percentage activity per sample using 'pearson' correlation and the feature was only considered phenotype-associated if its coefficient was greater than '0.7' and its bonferroni-corrected p-value less than '0.05'.
The MS/MS spectrum of each molecular feature was matched pairwise against a targeted spectral library constructed from relevant matches of the KnownClusterBlast algorithm. Matching was performed using the 'modified cosine' algorithm, with a fragment tolerance of '0.1' and matches were only retained if the number of matched peaks between feature and library spectrum was greater than '5', the score exceeded the cutoff score of '0.7', and the maximum precursor m/z difference of '600' was not exceeded.